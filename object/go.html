<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div>
    <pre>
        一 、PHP基础部分


1、PHP语言的一大优势是跨平台，什么是跨平台？

PHP的运行环境最优搭配为Apache+MySQL+PHP，此运行环境可以在不同操作系统（例如windows、Linux等）上配置，不受操作系统的限制，所以叫跨平台



2、WEB开发中数据提交方式有几种？有什么区别？百度使用哪种方式？

Get与post两种方式
区别：
（1）url可见性：get 方式url参数可见，post 不可见

（2）可缓存性：get 方式是可以缓存的，post 方式不可以缓存。

（3）传输数据大小：get一般传输数据大小不超过2k-4k（根据浏览器不同，限制不一样，但相差不大）；post 请求传输数据的大小根据php.ini 配置文件设定，也可以无限大。

（4）数据传输上：get 方式通过url地址栏拼接参数进行传输，post 方式通过body体进行传输。

建议：
1、get式安全性较Post式要差些包含机密信息建议用Post数据提交式；
2、做数据查询建议用Get式；做数据添加、修改或删除建议用Post方式；
百度使用的get方式，因为可以从它的URL中看出



3、掌握PHP的哪些框架、模板引擎、系统等

框架：框架有很多，例如CI、Yii、Laravel等等，咱们学过的是thinkphp
模板引擎：也有很多，在课本中有，咱们学过的是smarty
系统：有很多，例如：康盛的产品（uchome、supesite、discuzX等），帝国系统、DEDE（织梦）、ecshop等，咱们学过的是DEDECMS、Ecshop



4、说一下你所掌握的网页前端技术有哪些？

熟练掌握DIV+CSS网页布局，JavaScript，jQuery框架、photoshop图片处理



5、AJAX的优势是什么？

ajax是异步传输技术，可以通过javascript实现，也可以通过JQuery框架实现，实现局部刷新，减轻了服务器的压力，也提高了用户体验。



6、安全对一套程序来说至关重要，请说说在开发中应该注意哪些安全机制？

（1）使用验证码防止注册机灌水。

（2）使用预处理，绑定参数，参数过滤转义 防止sql注入

（3）使用token防止远程提交，使用token验证登录状态。



7、在程序的开发中，如何提高程序的运行效率？

（1）优化SQL语句，查询语句中尽量不使用select *，用哪个字段查哪个字段；少用子查询可用表连接代替；少用模糊查询。

（2）数据表中创建索引。

（3）对程序中经常用到的数据生成缓存（比如使用redis缓存数据，比如使用ob进行动态页面静态化等等）。

（4）对mysql做主从复制，读写分离。（提高mysq执行效率和查询速度）

（5）使用nginx做负载均衡。（将访问压力平均分配到多态服务器）



8、PHP可否与其它的数据库搭配使用？

PHP与MYSQL数据库是最优搭配，当然PHP也可以去其它的数据库搭配使用，例如PostgreSql，SqlServer，Oracle，SqlLite等。



9、现在编程中经常采取MVC三层结构，请问MVC分别指哪三层，有什么优点？

MVC三层分别指：业务模型、视图、控制器，由控制器层调用模型处理数据，然后将数据映射到视图层进行显示。

优点是：①可以实现代码的重用性，避免产生代码冗余；②M和V的实现代码分离，从而使同一个程序可以使用不同的表现形式



10、对json数据格式的理解？

JSON(JavaScript Object Notation)是一种轻量级的数据交换格式，json数据格式固定，可以被多种语言用作数据的传递。
PHP中处理json格式的函数为json_decode( string $json [, bool $assoc ] ) ，接受一个 JSON格式的字符串并且把它转换为PHP变量，参数json待解码的json string格式的字符串。assoc当该参数为TRUE时，将返回array而非object；
Json_encode：将PHP变量转换成json格式。



11、Print、echo、print_r有什么区别？

（1） echo和print都可以做输出，不同的是，echo不是函数，没有返回值，而print是一个函数有返回值，所以相对而言如果只是输出echo会更快，而print_r通常用于打印变量的相关信息，通常在调试中使用。
（2） print 是打印字符串
（3）print_r 则是打印复合类型 如数组 对象



12、SESSION与COOKIE的区别？

（1）存储位置：session存储于服务器，cookie存储于浏览器
（2）安全性：session安全性比cookie高
（3）session为‘会话服务’，在使用时需要开启服务，cookie不需要开启，可以直接用



13、PHP处理数组的常用函数？（重点看函数的‘参数’和‘返回值’）

（1）array() 创建数组

（2）in_array()  判断元素是否在数组中

（3）count() 返回数组中元素的数目

（4）array_merge() 将多个数组合并成一个数组

（5）array_diff() 比较两个或两个以上数组的差异

（6）array_intersect() 获取两个或两个数组以上的交集

（7）array_keys()  获取数组的key列表

（8）array_values()  获取数组的值列表

（9）array_unique()  删除数组中的重复值

（10）array_push()将一个或多个元素插入数组的末尾（入栈）

（11）array_pop() 弹出并返回 array 数组的最后一个单元（出栈）

（12）array_walk()  使用用户自定义函数对数组中的每个元素做回调处理



14、PHP处理字符串的常用函数？（重点看函数的‘参数’和‘返回值’）

（1）trim()  移除字符串两侧的空白字符和其他字符；

（2）strlen()  获取字符串的长度

（3）mb_strlen()  获取字符串长度（可指定字符编码，对中文字符串计算长度）

（4）substr()返回字符串的一部分；

（5）str_replace()  子字符串替换

（6）str_repeat ()  重复一个字符串

（7）is_string() 检测变量是否是字符串；

（8）str_shuffle () 随机打乱一个字符串

（9）sprintf()  返回根据格式化字符串生成的字符串（通常用于获取分表后的数据表名）

（10）strstr()  查找字符串的首次出现

（11）addslashes  使用反斜线引用字符串



15、PHP处理时间的常用函数？（重点看函数的‘参数’和‘返回值’）

（1）date()  格式化一个本地时间／日期。

（2）getdate()  取得日期／时间信息。

（3）date_default_timezone_set() 设定默认时区。

（4）date_default_timezone_get() 返回默认时区。

（5）mktime()  返回一个日期的 Unix时间戳。

（6）strtotime()  将任何字符串的日期时间描述解析为 Unix 时间戳

（7）strftime()  根据区域设置格式化本地时间／日期



16、PHP处理数据库的常用函数？（重点看函数的‘参数’和‘返回值’）

请参照php手册，认真查看，此项非常重要



17、PHP操作文件的常用函数？（重点看函数的‘参数’和‘返回值’）

（1）打开文件 fopen()

（2）读取文件 fgets()  ;  注：file_get_contents()也是读取文件

（3）写入文件fwrite()  ;  注：file_put_contents()同样可以写入文件

（4）关闭文件句柄 fclose()

（5）移动 / 重命名文件 rename()

（6）复制文件 copy()

（7）创建文件 vim  或 touch

（8）删除文件 unlink()

（9）获取文件上次访问的时间 fileatime()

（10）获取文件上次修改的时间 filemtime()

（11）获取文件大小 filesize()

（12）获取文件类型  filetype()

（13）获取文件详细信息 state()

（14）判断是否是目录 is_dir()



18、PHP操作目录（文件夹）的常用函数？（重点看函数的‘参数’和‘返回值’）

（1）打开目录 opendir()

（2）读取目录 readdir()

（3）删除目录 rmdir()

（4）关闭目录句柄  closedir()

（5）创建目录 mkdir()

（6）返回路径中的目录部分  dirname()

（7）取得当前工作目录  getcwd()

（8）列出指定路径中的文件和目录  scandir()



二 、数据库部分


1. 常见的关系型数据库管理系统产品有？

答：Oracle、SQL Server、MySQL、Sybase、DB2、Access等。



2. SQL语言包括哪几部分？每部分都有哪些操作关键字？

答：SQL语言包括数据定义(DDL)、数据操纵(DML),数据控制(DCL)和数据查询（DQL）四个部分。
数据定义：Create Table,Alter Table,Drop Table, Craete/Drop Index等
数据操纵：Select ,insert,update,delete,
数据控制：grant,revoke
数据查询：select



3. 完整性约束包括哪些？

数据完整性(Data Integrity)是指数据的精确(Accuracy) 和 可靠性(Reliability)。

包括：

（1）实体完整性：规定表的每一行在表中是惟一的实体。

（2）域完整性：是指表中的列必须满足某种特定的数据类型约束，其中约束又包括取值范围、精度等规定。

（3）参照完整性：是指两个表的主关键字和外关键字的数据应一致，保证了表之间的数据的一致性，防止了数据丢失或无意义的数据在数据库中扩散。

（4） 用户定义的完整性：不同的关系数据库系统根据其应用环境的不同，往往还需要一些特殊的约束条件。用户定义的完整性即是针对某个特定关系数据库的约束条件，它反映某一具体应用必须满足的语义要求。



4. 什么是事务？及其特性？

事务：是一系列的数据库操作，是数据库应用的基本逻辑单位。

特性：

（1）原子性：即不可分割性，事务要么全部被执行，要么就全部不被执行。

（2）一致性或可串性。事务的执行使得数据库从一种正确状态转换成另一种正确状态

（3）隔离性。在事务正确提交之前，不允许把该事务对数据的任何改变提供给任何其他事务，

（4） 持久性。事务正确提交后，其结果将永久保存在数据库中，即使在事务提交后有了其他故障，事务的处理结果也会得到保存。

简单理解：在事务里的操作，要么全部成功，要么全部失败。


5. 什么是锁？

数据库是一个多用户使用的共享资源。当多个用户并发地存取数据时，在数据库中就会产生多个事务同时存取同一数据的情况。若对并发操作不加控制就可能会读取和存储不正确的数据，破坏数据库的一致性。

加锁是实现数据库并发控制的一个非常重要的技术。当事务在对某个数据对象进行操作前，先向系统发出请求，对其加锁。加锁后事务就对该数据对象有了一定的控制，在该事务释放锁之前，其他的事务不能对此数据对象进行更新操作。
基本锁类型：锁包括行级锁和表级锁


6. 什么叫视图？游标是什么？

视图是一种虚拟的表，具有和物理表相同的功能。可以对视图进行增，改，查，操作，视图通常是有一个表或者多个表的行或列的子集。对视图的修改不影响基本表。它使得我们获取数据更容易，相比多表查询。

游标：是对查询出来的结果集作为一个单元来有效的处理。游标可以定在该单元中的特定行，从结果集的当前行检索一行或多行。可以对结果集当前行做修改。一般不使用游标，但是需要逐条处理数据的时候，游标显得十分重要。


7. 什么是存储过程？用什么来调用？

存储过程是一个预编译的SQL语句，优点是允许模块化的设计，就是说只需创建一次，以后在该程序中就可以调用多次。如果某次操作需要执行多次SQL，使用存储过程比单纯SQL语句执行要快。可以用一个命令对象来调用存储过程。


8. 索引的作用？和它的优点缺点是什么？

索引就一种特殊的查询表，数据库的搜索引擎可以利用它加速对数据的检索。它很类似与现实生活中书的目录，不需要查询整本书内容就可以找到想要的数据。索引可以是唯一的，创建索引允许指定单个列或者是多个列。

缺点是它减慢了数据录入的速度，同时也增加了数据库的尺寸大小。


9. 如何通俗地理解三个范式？

第一范式：1NF是对属性的原子性约束，要求属性具有原子性，不可再分解；

第二范式：2NF是对记录的惟一性约束，要求记录有惟一标识，即实体的惟一性;

第三范式：3NF是对字段冗余性的约束，即任何字段不能由其他字段派生出来，它要求字段没有冗余。。


10. 什么是基本表？什么是视图？

基本表是本身独立存在的表，在 SQL 中一个关系就对应一个表。

视图是从一个或几个基本表导出的表。视图本身不独立存储在数据库中，是一个虚表


11. 试述视图的优点？

(1) 视图能够简化用户的操作

(2) 视图使用户能以多种角度看待同一数据；

(3) 视图为数据库提供了一定程度的逻辑独立性；

(4) 视图能够对机密数据提供安全保护。



12. NULL是什么意思

NULL这个值表示UNKNOWN(未知):它不表示“”(空字符串)。

对NULL这个值的任何比较都会生产一个NULL值。

您不能把任何值与一个 NULL值进行比较，并在逻辑上希望获得一个答案。

使用IS NULL来进行NULL判断



13. 主键、外键和索引的区别？

主键、外键和索引的区别
定义：
主键--唯一标识一条记录，不能有重复的，不允许为空
外键--表的外键是另一表的主键, 外键可以有重复的, 可以是空值
索引--该字段没有重复值，但可以有一个空值
作用：
主键--用来保证数据完整性
外键--用来和其他表建立联系用的
索引--是提高查询排序的速度
个数：
主键--主键只能有一个
外键--一个表可以有多个外键
索引--一个表可以有多个唯一索引


14. 你可以用什么来确保表格里的字段只接受特定范围里的值?

Check限制，它在数据库表格里被定义，用来限制输入该列的值。



15. 说说对SQL语句优化有哪些方法？（选择几条）

（1）Where子句中：where表之间的连接必须写在其他Where条件之前，那些可以过滤掉最大数量记录的条件必须写在Where子句的末尾.HAVING最后。

（2）用EXISTS替代IN、用NOT EXISTS替代NOT IN。

（3） 避免在索引列上使用计算

（4）避免在索引列上使用IS NULL和IS NOT NULL

（5）对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。

（6）应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描

（7）应尽量避免在 where 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描


16. SQL语句中‘相关子查询’与‘非相关子查询’有什么区别？

（1）非相关子查询是独立于外部查询的子查询，子查询总共执行一次，执行完毕后将值传递给外部查询。

（2）相关子查询的执行依赖于外部查询的数据，外部查询执行一行，子查询就执行一次。

因此非相关子查询比相关子查询效率高



17. char和varchar的区别？

char是一种固定长度的类型，varchar则是一种可变长度的类型。

区别：

char(M)类型的数据列里，每个值都占用M个字节，如果某个长度小于M，MySQL就会在它的右边用空格字符补足。（在检索操作中那些填补出来的空格字符将被去掉）。

varchar(M)类型的数据列里，每个值只占用刚好够用的字节再加上一个用来记录其长度的字节（即总长度为L+1字节）。


18. Mysql 的存储引擎,myisam和innodb的区别。

MyISAM 是非事务的存储引擎；适合用于频繁查询的应用；表锁，不会出现死锁；不支持事务。适合小数据，小并发

innodb是支持事务的存储引擎；适合于插入和更新操作比较多的应用；设计合理的话是行锁（最大区别就在锁的级别上）；适合大数据，大并发。


19. 数据表类型有哪些

MyISAM、InnoDB、HEAP、BOB,ARCHIVE,CSV等。

MyISAM：成熟、稳定、易于管理，快速读取。一些功能不支持（事务等），表级锁。

InnoDB：支持事务、外键等特性、数据行锁定。空间占用大，不支持全文索引等。


20. MySQL数据库作发布系统的存储，一天五万条以上的增量，预计运维三年,怎么优化？

（1）设计良好的数据库结构，允许部分数据冗余，尽量避免join查询，提高效率。

（2） 选择合适的表字段数据类型和存储引擎，适当的添加索引。

（3） 做mysql主从复制读写分离。

（4）对数据表进行分表，减少单表中的数据量提高查询速度。

（5）添加缓存机制，比如redis，memcached等。

（6）对不经常改动的页面，生成静态页面（比如做ob缓存）。

（7）书写高效率的SQL。比如 SELECT * FROM TABEL 改为 SELECT field_1, field_2, field_3 FROM TABLE.


21. 对于大流量的网站,您采用什么样的方法来解决各页面访问量统计问题？

（1） 确认服务器是否能支撑当前访问量。

（2） 优化数据库访问。

（3）禁止外部访问链接（盗链）, 比如图片盗链。

（4）控制文件下载。

（5）做负载均衡，使用不同主机分流。

（6）使用浏览统计软件，了解访问量，有针对性的进行优化。




三、 面向对象部分


1、什么是面向对象?（理解着回答）

面向对象是一种思想，是基于面向过程而言的，就是说面向对象是将功能等通过对象来实现，将功能封装进对象之中，让对象去实现具体的细节。

面向对象有三大特征：封装性、继承性、多态性。

现在纯正的OO语言主要是 Java 和 C#，PHP、C++也支持OO，C是面向过程的。



2、简述 private、 protected、 public修饰符的访问权限。

private : 私有成员, 在类的内部才可以访问。

protected : 保护成员，该类内部和继承类中可以访问。

public : 公共成员，完全公开，没有访问限制。



3、堆和栈的区别？

栈是编译期间就分配好的内存空间，因此你的代码中必须就栈的大小有明确的定义；

堆是程序运行期间动态分配的内存空间，你可以根据程序的运行情况确定要分配的堆内存的大小。



4、XML 与 HTML 的主要区别

语法要求不同：

（1）在html中不区分大小写，在xml中严格区分。

（2）在HTML中，有时不严格，如果上下文清楚地显示出段落或者列表键在何处结尾，那么你可以省略</p>或者</li>之类的结束标记。在XML中，是严格的树状结构，绝对不能省略掉结束标记。

（3） 在XML中，拥有单个标记而没有匹配的结束标记的元素必须用一个/ 字符作为结尾。这样分析器就知道不用查找结束标记了。

（4）在XML中，属性值必须分装在引号中。在HTML中，引号是可用可不用的。

（5）在HTML中，可以拥有不带值的属性名。在XML中，所有的属性都必须带有相应的值。

（6） 在XML文档中，空白部分不会被解析器自动删除；但是html是过滤掉空格的。

标记不同：

（1）html使用固有的标记；而xml没有固有的标记。

（2）Html标签是预定义的；XML标签是免费的、自定义的、可扩展的。

作用不同：

（1）html是用来显示数据的；xml是用来描述数据、存放数据的，所以可以作为持久化的介质！Html将数据和显示结合在一起，在页面中把这数据显示出来；xml则将数据和显示分开。 XML被设计用来描述数据，其焦点是数据的内容。HTML被设计用来显示数据，其焦点是数据的外观。

（2）xml不是HTML的替代品，xml和html是两种不同用途的语言。 XML 不是要替换 HTML；实际上XML 可以视作对 HTML 的补充。XML 和HTML 的目标不同HTML 的设计目标是显示数据并集中于数据外观，而XML的设计目标是描述数据并集中于数据的内容。

（3）对于XML最好的形容可能是: XML是一种跨平台的，与软、硬件无关的，处理与传输信息的工具。

（4）XML未来将会无所不在。XML将成为最普遍的数据处理和数据传输的工具。



5、面向对象的特征有哪些方面?

主要有封装,继承,多态。如果是4个方面则加上：抽象。

封装：
封装是保证软件部件具有优良的模块性的基础,封装的目标就是要实现软件部件的高内聚,低耦合,防止程序相互依赖性而带来的变动影响.

继承：
在定义和实现一个类的时候，可以在一个已经存在的类的基础之上来进行，把这个已经存在的类所定义的内容作为自己的内容，并可以加入若干新的内容，或修改原来的方法使之更适合特殊的需要，这就是继承。继承是子类自动共享父类数据和方法的机制，这是类之间的一种关系，提高了软件的可重用性和可扩展性。

多态：
多态是指程序中定义的引用变量所指向的具体类型和通过该引用变量发出的方法调用在编程时并不确定，而是在程序运行期间才确定，即一个引用变量倒底会指向哪个类的实例对象，该引用变量发出的方法调用到底是哪个类中实现的方法，必须在由程序运行期间才能决定。

抽象：
抽象就是找出一些事物的相似和共性之处，然后将这些事物归为一个类，这个类只考虑这些事物的相似和共性之处，并且会忽略与当前主题和目标无关的那些方面，将注意力集中在与当前目标有关的方面。例如，看到一只蚂蚁和大象，你能够想象出它们的相同之处，那就是抽象。


6、抽象类和接口的概念以及区别？

抽象类：它是一种特殊的，不能被实例化的类，只能作为其他类的父类使用。使用abstract关键字声明。

接口：它是一种特殊的抽象类，也是一个特殊的类，使用interface声明。

区别：

（1）抽象类的操作通过继承关键字extends实现，而接口的使用是通过implements关键字来实现。

（2）抽象类中有数据成员，可以实现数据的封装，但是接口没有数据成员。

（3）抽象类中可以有构造方法，但是接口没有构造方法。

（4）抽象类的方法可以通过private、protected、public关键字修饰（抽象方法不能是private），而接口中的方法只能使用public关键字修饰。

（5）一个类只能继承于一个抽象类，而一个类可以同时实现多个接口。

（6）抽象类中可以有成员方法的实现代码，而接口中不可以有成员方法的实现代码。


7、什么是构造函数，什么是析构函数，作用是什么？

构造函数（方法）是对象创建完成后第一个被对象自动调用的方法。它存在于每个声明的类中，是一个特殊的成员方法。作用是执行一些初始化的任务。Php中使用__construct()声明构造方法，并且只能声明一个。

析构函数（方法）作用和构造方法正好相反，是对象被销毁之前最后一个被对象自动调用的方法。是PHP5中新添加的内容作用是用于实现在销毁一个对象之前执行一些特定的操作，诸如关闭文件和释放内存等。


8、如何重载父类的方法，举例说明

重载，即覆盖父类的方法，也就是使用子类中的方法替换从父类中继承的方法，也叫方法的重写。

覆盖父类方法的关键是在子类中创建于父类中相同的方法包括方法的名称、参数和返回值类型。PHP中只要求方法的名称相同即可。


9、常用的魔术方法有哪些？举例说明

php规定以两个下划线（__）开头的方法都保留为魔术方法，所以建议大家函数名最好不用__开头，除非是为了重载已有的魔术方法。

__construct() 实例化类时自动调用。

__destruct() 类对象使用结束时自动调用。

__set() 在给未定义的属性赋值的时候调用。

__get() 调用未定义的属性时候调用。

__isset() 使用isset()或empty()函数时候会调用。

__unset() 使用unset()时候会调用。

__sleep() 使用serialize序列化时候调用。

__wakeup() 使用unserialize反序列化的时候调用。

__call() 调用一个不存在的方法的时候调用。

__callStatic()调用一个不存在的静态方法是调用。

__toString() 把对象转换成字符串的时候会调用。比如 echo。

__invoke() 当尝试把对象当方法调用时调用。

__set_state() 当使用var_export()函数时候调用。接受一个数组参数。

__clone() 当使用clone复制一个对象时候调用。


10、$this和self、parent这三个关键词分别代表什么？在哪些场合下使用？

$this 当前对象

self 当前类

parent 当前类的父类

$this在当前类中使用,使用->调用属性和方法。

self也在当前类中使用，不过需要使用::调用。

parent在类中使用。



11、类中如何定义常量、如何类中调用常量、如何在类外调用常量。

类中的常量也就是成员常量，常量就是不会改变的量，是一个恒值。

定义常量使用关键字const.

例如：const PI = 3.1415326;

无论是类内还是类外，常量的访问和变量是不一样的，常量不需要实例化对象，

访问常量的格式都是类名加作用域操作符号（双冒号）来调用。

即：类名 :: 类常量名;



12、作用域操作符::如何使用？都在哪些场合下使用？

（1）调用类常量

（2）调用静态方法（使用static修饰的类方法）


13、__autoload()方法的工作原理是什么？

使用这个魔术函数的基本条件是类文件的文件名要和类的名字保持一致。

当程序执行到实例化某个类的时候，如果在实例化前没有引入这个类文件，那么就自动执行__autoload()函数。

这个函数会根据实例化的类的名称来查找这个类文件的路径，当判断这个类文件路径下确实存在这个类文件后

就执行include或者require来载入该类，然后程序继续执行，如果这个路径下不存在该文件时就提示错误。

使用自动载入的魔术函数可以不必要写很多个include或者require函数。






四、THINKPHP部分


1、常见的PHP框架

答：thinkPHP、laravel、yii、ci 等。



2、如何理解TP中的单一入口文件？

ThinkPHP采用单一入口模式进行项目部署和访问，无论完成什么功能，一个项目都有一个统一（但不一定是唯一）的入口。应该说，所有项目都是从入口文件开始的，并且所有的项目的入口文件是类似的。

入口文件中主要包括：

（1）定义框架路径、项目路径和项目名称（可选）
（2）定义调试模式和运行模式的相关常量（可选）
（3）载入框架入口文件（必须）



3、ThinkPHP中的MVC分层是什么？（理解）

MVC 是一种将应用程序的逻辑层和表现层进行分离的方法。ThinkPHP 也是基于MVC设计模式的。MVC只是一个抽象的概念，并没有特别明确的规定，ThinkPHP中的MVC分层大致体现在：

模型（M）：模型的定义由Model类来完成。

控制器（C）：应用控制器（核心控制器App类）和Action控制器都承担了控制器的角色，Action控制器完成业务过程控制，而应用控制器负责调度控制。

视图（V）：由View类和模板文件组成，模板做到了100％分离，可以独立预览和制作。

但实际上，ThinkPHP并不依赖M或者V ，也就是说没有模型或者视图也一样可以工作。甚至也不依赖C，这是因为ThinkPHP在Action之上还有一个总控制器，即App控制器，负责应用的总调度。在没有C的情况下，必然存在视图V，否则就不再是一个完整的应用。
总而言之，ThinkPHP的MVC模式只是提供了一种敏捷开发的手段，而不是拘泥于MVC本身。


4、如何进行SQL优化？（关于后边的解释同学们可以进行理解，到时根据自己的理解把大体意思说出来即可）

（1）选择正确的存储引擎

MyISAM 适合于一些需要大量查询的应用，但其对于有大量写操作并不是很好。甚至你只是需要update一个字段，整个表都会被锁起来，而别的进程，就算是读进程都无法操作直到读操作完成。另外，MyISAM 对于 SELECT COUNT(*) 这类的计算是超快无比的。
InnoDB 的趋势会是一个非常复杂的存储引擎，对于一些小的应用，它会比 MyISAM 还慢。但是它支持“行锁” ，于是在写操作比较多的时候，会更优秀。并且，他还支持更多的高级应用，比如：事务。

（2）优化字段的数据类型
记住一个原则，越小的列会越快。如果一个表只会有几列罢了（比如说字典表，配置表），那么，我们就没有理由使用 INT 来做主键，使用 MEDIUMINT, SMALLINT 或是更小的 TINYINT 会更经济一些。如果你不需要记录时间，使用 DATE 要比 DATETIME 好得多。当然，你也需要留够足够的扩展空间。

（3）为搜索字段添加索引
索引并不一定就是给主键或是唯一的字段。如果在你的表中，有某个字段你总要会经常用来做搜索，那么最好是为其建立索引，除非你要搜索的字段是大的文本字段，那应该建立全文索引。

（4）避免使用Select *从数据库里读出越多的数据，那么查询就会变得越慢。并且，如果你的数据库服务器和WEB服务器是两台独立的服务器的话，这还会增加网络传输的负载。即使你要查询数据表的所有字段，也尽量不要用*通配符，善用内置提供的字段排除定义也许能给带来更多的便利。

（5）使用 ENUM 而不是 VARCHAR
ENUM 类型是非常快和紧凑的。在实际上，其保存的是 TINYINT，但其外表上显示为字符串。这样一来，用这个字段来做一些选项列表变得相当的完美。例如，性别、民族、部门和状态之类的这些字段的取值是有限而且固定的，那么，你应该使用 ENUM 而不是 VARCHAR。

（6）尽可能的使用 NOT NULL
除非你有一个很特别的原因去使用 NULL 值，你应该总是让你的字段保持 NOT NULL。 NULL其实需要额外的空间，并且，在你进行比较的时候，你的程序会更复杂。 当然，这里并不是说你就不能使用NULL了，现实情况是很复杂的，依然会有些情况下，你需要使用NULL值。

（7）固定长度的表会更快
如果表中的所有字段都是“固定长度”的，整个表会被认为是 “static” 或 “fixed-length”。 例如，表中没有如下类型的字段： VARCHAR，TEXT，BLOB。只要你包括了其中一个这些字段，那么这个表就不是“固定长度静态表”了，这样，MySQL 引擎会用另一种方法来处理。

固定长度的表会提高性能，因为MySQL搜寻得会更快一些，因为这些固定的长度是很容易计算下一个数据的偏移量的，所以读取的自然也会很快。而如果字段不是定长的，那么，每一次要找下一条的话，需要程序找到主键。
并且，固定长度的表也更容易被缓存和重建。不过，唯一的副作用是，固定长度的字段会浪费一些空间，因为定长的字段无论你用不用，他都是要分配那么多的空间。


5、如何理解 ThinkPHP 3.0 架构（核心 + 行为 + 驱动）中的行为？

（1）核心（Core）：就是框架的核心代码，不可缺少的东西，TP本身是基于MVC思想开发的框架。

（2）行为（Behavior） ：行为在新版ThinkPHP的架构里面起着举足轻重的作用，在系统核心之上，设置了很多标签扩展位，而每个标签位置可以依次执行各自的独立行为。行为扩展就因此而诞生了，而且很多系统功能也是通过内置的行为扩展完成的，所有行为扩展都是可替换和增加的，由此形成了底层框架可组装的基础。

（3）驱动（ Driver ）：数据库驱动、缓存驱动、标签库驱动和模板引擎驱动，以及外置的类扩展。


6、什么是惯例配置？

所谓的惯例配置，便是框架的自带的配置文件。该文件在核心框架目录下的convention.php中，配置内容如下。由于该文件属于框架自带的配置文件，在实际的开发过程中，主要给我们做参考实例使用，我们很少去修改该文件的配置内容，更多的是根据需求来按照惯例配置中的字段定义和注释来在模块或者Common中自定义配置内容。


7、什么是SQL注入？（理解）

SQL注入攻击是黑客对数据库进行攻击的常用手段之一。

一部分程序员在编写代码的时候，没有对用户输入数据的合法性进行判断，注入者可以在表单中输入一段数据库查询代码并提交，程序将提交的信息拼凑生成一个完整sql语句，服务器被欺骗而执行该条恶意的SQL命令。注入者根据程序返回的结果，成功获取一些敏感数据，甚至控制整个服务器，这就是SQL注入。


8、ThinkPHP如何防止SQL注入？（理解）

（1）查询条件尽量使用数组方式，这是更为安全的方式；

（2）如果不得已必须使用字符串查询条件，使用预处理机制；

（3）使用绑定参数

（4）开启数据字段类型验证，可以对数值数据类型做强制转换；（3.1版本开始已经强制进行字段类型验证了）

（5）使用自动验证和自动完成机制进行针对应用的自定义过滤；

（6）使用字段类型检查、自动验证和自动完成机制等避免恶意数据的输入。


9、如何开启调试模式？调试模式有什么好处？

开启调试模式很简单，只需要在入口文件中增加一行常量定义代码：


// 开启调试模式 建议开发阶段开启 部署阶段注释或者设为false

define('APP_DEBUG', true);
调试模式的优势在于： 开启日志记录，任何错误信息和调试信息都会详细记录，便于调试； 关闭模板缓存，模板修改可以即时生效； 记录SQL日志，方便分析SQL； 关闭字段缓存，数据表字段修改不受缓存影响； 严格检查文件大小写（即使是Windows平台），帮助你提前发现Linux部署问题； 可以方便用于开发过程的不同阶段，包括开发、测试和演示等任何需要的情况，不同的应用模式可以配置独立的项目配置文件。



10、TP中支持哪些配置模式？优先级？

惯例配置->应用配置->模式配置->调试配置->状态配置->模块配置->扩展配置->动态配置

以上是配置文件的加载顺序，因为后面的配置会覆盖之前的同名配置（在没有生效的前提下），所以优先顺序从右到左。


11、TP中的URL模式有哪几种？默认是哪种？

ThinkPHP支持四种URL模式，可以通过设置URL_MODEL参数来定义，包括普通模式、PATHINFO、REWRITE和兼容模式。
默认模式为：PATHINFO模式，设置URL_MODEL 为1


12、TP中系统变量有哪些？如何获取系统变量？

（1）系统变量：$_SERVER、$_ENV、 $_POST、 $_GET、 $_REQUEST、$_SESSION和 $_COOKIE变量

（2）获取系统变量：

{$Think.server.script_name} // 输出$_SERVER['SCRIPT_NAME']变量

{$Think.session.user_id} // 输出$_SESSION['user_id']变量

{$Think.get.pageNumber} // 输出$_GET['pageNumber']变量

{$Think.cookie.name}  // 输出$_COOKIE['name']变量





13、ThinkPHP框架中D函数与M函数的区别是什么？

M方法实例化模型无需用户为每个数据表定义模型类，D方法可以自动检测模型类，如果存在自定义的模型类，则实例化自定义模型类，如果不存在，则会自动调用M方法去实例化Model基类。同时对于已实例化过的模型，不会重复去实例化（单例模式）。




五、smarty模板引擎


1、编译和缓存区别？

smarty的编译过程就是把模板拿过来，把里面的标签替换成相应php代码，这就是smarty的编译， 其实就是php和html混合的过程
smarty的缓存需要手动开启，smarty的缓存就是把编译好的文件执行后，同时生成一份静态的html页面，再次访问的时候，你访问的就是是html文件了，所以就效率来说，要高一些。



2、什么是smarty? Smarty的优点是什么?

Smarty是一个使用PHP写出来的PHP模板引擎，目的是要使用PHP程序同美工分离,使的程序员改变程序的逻辑内容时不会影响到美工的页面设计，美工重新修改页面时不会影响到程序的程序逻辑，这在多人合作的项目中显的尤为重要。（也易于程序的多样式开发）

Smarty优点

（1）速度快：相对其他模板引擎。

（2） 编译型：采用smarty编写的程序在运行时要编译成一个非模板技术的PHP文件

（3）缓存技术：它可以将用户最终看到的HTML文件缓存成一个静态的HTML页

（4）插件技术：smarty可以自定义插件。


不适合使用smarty的地方

（1）需要实时更新的内容。例如像股票显示，它需要经常对数据进行更新

（2）小项目。小项目因为项目简单而美工与程序员兼于一人的项目


3、在模板中使用{$smarty}保留变量

{$smarty.get.page} //类似在php脚本中访问$_GET[page]
{$smarty.cookies.}
{$smarty.post.}
{$smarty.session.}
{$smarty.server.}



4. 在模板中访问php中的变量



5、变量调解器

2018PHP经典面试题大全汇总（更新）-PHP面试题



6、php查询mysql数据库时，查询中文结果时出现的乱码。怎么解决？

（1）文件meta（设置浏览器解析的时候）

（2）连接数据库时编码设定

（3）PHP文件中使用header函数确定编码



7、缓存机制

如果开启了缓存，smarty同时生成一份静态的html页面，如果在设定的时间没有过期，再次访问的时候，你访问的就是是html文件了，减少了读取数据库，所以就效率来说，要高一些。


8、smarty的赋值和载入模板

$Smarty->assign(name,value)
$Smarty->display(‘index.html’)


9、marty模板技术的用途是什么？

为了php与html分开，美工和程序员各司其职，互不干扰。


10、smarty配置主要有哪几项？

（1）引入smarty.class.php;

（2） 实例化smarty对象；

（3）重新修改默认的模板路径；

（4）重新修改默认的编译后文件的路径；

（5）重新修改默认的配置文件的路径；

（6）重新修改默认的cache的路径。

（7） 可以设置是否开启cache。

（8）可以设置左侧和右侧定界符。



11、smarty在使用过程中需要注意哪些细节？

Smarty是基于MVC概念的一种模板引擎，它将一个页面程序分成了两部分来实现：即视图层和控制层，
也就是说smarty技术将用户UI与php代码分离开。
这样程序员和美工各司其职，互不干扰。



12、smarty运用过程中要注意以下几个问题：

（1）正确配置smarty。主要要实例化smarty对象，配置smarty模板文件的路径；

（2）php页面中使用assign赋值 和display显示页面；

（3）smarty模板文件中不允许出现php代码段，所有的注释，变量，函数都要包含在定界符内。


六、二次开发系统（DEDE、ecshop）


1、对二次开发的理解

二次开发，简单的说就是在现有的软件上进行定制修改，功能的扩展，然后达到自己想要的功能，一般来说都不会改变原有系统的内核。

2、MVC

Model（模型）数据处理。
View（视图） 模板显示。
Controller（控制器） 控制流程。
MVC的概念是什么？各层主要做什么工作？
MVC（即模型-视图-控制器）是一种软件设计模式或者说编程思想。
M指Model模型层，V是View视图层（显示层或者用户界面），C是Controller控制器层。
使用mvc的目的是实现M和V分离，从而使得一个程序可以轻松使用不同的用户界面。
在网站开发中，
模型层一般负责对数据库表信息进行增删改查，
视图层负责显示页面内容，
控制器层在M和V之间起到调节作用，控制器层决定调用哪个model类的哪个方法，
执行完毕后由控制器层决定将结果assign到哪个view层。


3、二次开发程序安装后访问时候出现一些警告以及错误

根据错误，来修改服务器配置参数以及百度


4、功能，模板的更换，功能的添加修改

其实也就是面向对象的应用 用，以及模板的更换类似smarty的使用


5、用过哪些二次开发的东西？

Dedecms phpcms ecshop，基本这些的东西如果基础好了 学习起来都是没问题的。


6、像php做一次开发好，还是二次开发好？

一般中小企业都用cms系统二次开发，都是为了效率。当然如果想一次开发也行，会用框架而且时间充足的话就可以了，大企业都是团队来开发的，杜绝版权问题。


7、二次开发过程中很多类与类之间进行之间的方法访问，是通过什么方式传递的？

不是类继承而是对象组合，把实例化好的对象通过global传递进去


8、dedecms如果更换目录，后台某项就进不去了如何解决？

后台核心设置中修改成现在的 项目目录名称


9、dedecms中自定义模型的理解？

在织梦系统中有内容模型这个概念，不同内容模型可以用来构建不同内容形式的站点，在系统中自带了以下几种模型：普通文章、图集、软件、商品、分类信息、专题。通过系统自带的模型，我们可以用来构建不同类型的站点，例如：使用图集可以做一个图片站，用软件模型构建一个软件下载站点。
当然以上随系统附带的模型被称为系统模型，用户可以自己定义一些模型，比如图书、音乐专辑等，自定义了这些模型才可以构建更多内容形式的站点。
相当于我们自动添加了表结构，适应现在当前需求的变化


10、dede中概念，设计和使用模板，必须要理解下面几个概念

（1）板块（封面）模板：
指网站主页或比较重要的栏目封面频道使用的模板，一般用“index_识别ID.htm”命名，此外，用户单独定义的单个页面或自定义标记，也可选是否支持板块模板标记，如果支持，系统会用板块模板标记引擎去解析后才输出内容或生成特定的文件。

（2）列表模板：
指网站某个栏目的所有文章列表的模板，一般用 “list_识别ID.htm” 命名。

（3） 档案模板：
表示文档查看页的模板，如文章模板，一般用 “article_识别ID.htm” 命名。

（4） 其它模板：
一般系统常规包含的模板有：主页模板、搜索模板、ＲＳＳ、ＪＳ编译功能模板等，此外用户也可以自定义一个模板创建为任意文件。


11、dede中几种标签的使用？

列表 内容 等标签 只能在其本范围内使用，列表标签只能在列表中使用，内容标签只能在内容标签中使用。
全局标签能在所有页面中使用


12、熟悉常用类库

（例如：dedesql.class.php）；熟悉系统函数库（common.func.php）；熟悉自定义函数库（extend.func.php）；熟悉前台入口文件（common.inc.php）




七、微信公众平台开发


1、微信运行机制

公众号与php之间用什么语言通信:Xml
Weixin.php中是如何接收公众号数据的：
$postStr = $GLOBALS["HTTP_RAW_POST_DATA"];//接收数据 XML数据


2、消息类型

微信目前提供了7种基本消息类型，分别为：
（1）文本消息（text）；
（2）图片消息（image）；
（3）语音（voice）
（4）视频（video）
（5）地理位置（location）；
（6）链接消息（link）；
（7）事件推送（event）
类型。掌握不同的消息类型发送时的数据传递格式


3、将整个文件读入一个字符串的函数是

File_get_contents


4、常用函数

把xml数据解析成对象的函数是
simplexml_load_string( )
将字符串转换为数组的函数是___ explode_________，将数组转化为字符串的函数是____implode________.
编码 URL 字符串的字符串是____urlencode________.


5、Sprintf函数的作用

这个都是可以查手册的。


6、微信公众号出现无法提供服务的原因？

（1）网络原因 ，数据接口原因
（2）代码错误，怎么推测原因
修改的哪里检查一下，如果代码没错
可以输出数据 看一下。用php操作文件
$myfile = fopen("newfile.txt", "w");
$txt ="aaaaaaaaaa";
fwrite($myfile, $txt);
fclose($myfile);


7、自定义菜单的事件推送

单击
单击跳转链接
扫码推事件
扫码推且弹出
弹出系统拍照发图的事件
弹出微信相册发图器的事件
弹出地理位置选择器的事件


8、token的作用

安全机制验证，用于微信服务器与PHP服务器之间的安全验证


9、Appid与secrect的作用

请求api接口（例如菜单的操作）时需要传appid与secrect两个值，用来获取应用的授权码

    </pre>
</div>
</body>
</html>